<!-- FETCH DATA LINK : https://api.openweathermap.org/data/2.5/weather?q=kochi&appid=5b4bee0ba241d092159faf007e166080 -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="weather">
        <div class=" container w-100">
            <h2 class="main-head text-center text-info">WEATHER APP</h2>
        </div>

        <div class="d-flex justify-content-center mt-5">
            <div class="input-group input-group-container position-relative w-75">
                <input type="search" id="wname" class="form-control rounded" placeholder="Search the District" aria-label="Search" aria-describedby="search-addon" />
                <button type="button" onclick="fetchData()" class="btn btn-outline-warning ms-3 rounded-pill border border-3" data-mdb-ripple-init>search</button>
            </div>
        </div>
        
            

        <div class="" id="result">

        </div>
    </div>
    
    
  
                  
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

</body>

<script>
    const fetchData=()=>{
        district=wname.value
        fetch(`https://api.openweathermap.org/data/2.5/weather?q=${district}&appid=5b4bee0ba241d092159faf007e166080`)
        .then(data=>data.json())
        .then(weatherData=>displayData(weatherData))
}

const displayData=(dataArray)=>{

    console.log(dataArray.main.humidity)


    var weather = Object.values(dataArray.weather[0])[1]
    var temparature = dataArray.main.temp
    var windSpeed = dataArray.wind.speed
    var pressure = dataArray.main. pressure
    var humidity = dataArray.main. humidity

    // var weather = 
    // var temparature = 
    // var windSpeed = 
    // var pressure =
    // var humidity


    result.innerHTML = `
    <div class="card position-absolute top-50 start-50 translate-middle w-50  p-5 " 
        style="width: 18rem; margin-top:180px; background: rgba(255, 255, 255, 0.2);
        border-radius: 16px;
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
        border: 1px solid rgba(255, 255, 255, 0.3);"
        
        <ul class="list-group list-group-flush">
            <li class="list-group-item text-center text-white mb-2 border border-3 bg-dark rounded py-2">Weather : ${weather}</li>
        </ul>

        <ul class="list-group list-group-flush">
            <li class="list-group-item bg-dark text-white"> Temperature :  ${temparature} </li>
        </ul>
        
        <ul class="list-group list-group-flush">
            <li class="list-group-item bg-dark text-white">Wind Speed : ${windSpeed}</li>
        </ul>
        
        <ul class="list-group list-group-flush">
            <li class="list-group-item bg-dark text-white">Pressure : ${pressure}</li>
        </ul>

        <ul class="list-group list-group-flush">
            <li class="list-group-item bg-dark text-white">Humidity : ${humidity}</li>
        </ul>

        
    </div>
    `
}
</script>
</html>